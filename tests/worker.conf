[global]
name = "test_worker"
log_dir = "/tmp/tunasync/log/tunasync/{{.Name}}"
mirror_dir = "/tmp/tunasync"
concurrent = 10
interval = 1

[manager]
api_base = "https://localhost:12345"
token = "some_token"
ca_cert = "rootCA.crt"

[server]
hostname = "localhost"
listen_addr = "127.0.0.1"
listen_port = 6000
ssl_cert = "worker.crt"
ssl_key = "worker.key"

[[mirrors]]
name = "AOSP"
provider = "command"
command = "/tmp/tunasync/bin/myrsync2.sh"
upstream = "https://aosp.google.com/"
interval = 2
mirror_dir = "/tmp/tunasync/git/AOSP"
	[mirrors.env]
	REPO = "/usr/local/bin/aosp-repo"

[[mirrors]]
name = "debian"
command = "/tmp/tunasync/bin/myrsync.sh"
provider = "two-stage-rsync"
stage1_profile = "debian"
upstream = "rsync://ftp.debian.org/debian/"
use_ipv6 = true


[[mirrors]]
name = "fedora"
command = "/tmp/tunasync/bin/myrsync.sh"
provider = "rsync"
upstream = "rsync://ftp.fedoraproject.org/fedora/"
use_ipv6 = true
exclude_file = "/etc/tunasync.d/fedora-exclude.txt"


# vim: ft=toml
